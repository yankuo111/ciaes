System.register(["./index-legacy.e4e3e25f.js","./index-legacy.77e40bdf.js","./index-legacy.1dcd6f78.js","./index-legacy.c9537be7.js"],(function(e){"use strict";var i,n,r,t,o,d,a,l,s,c,u,f,g,h,v,x,p,b,m;return{setters:[function(e){i=e.h,n=e.a,r=e.u,t=e.c,o=e.i},function(e){d=e.ab,a=e.s,l=e.r,s=e.w,c=e.aj,u=e.ad,f=e.H,g=e.f},function(e){h=e.L},function(e){v=e.c,x=e.r,p=e.m,b=e.t,m=e.w}],execute:function(){const y=Symbol(),[T,j,S]=v("list"),k={error:Boolean,offset:x(300),loading:Boolean,disabled:Boolean,finished:Boolean,errorText:String,direction:p("down"),loadingText:String,finishedText:String,immediateCheck:b};var w=a({name:T,props:k,emits:["load","update:error","update:loading"],setup(e,{emit:a,slots:v}){const x=l(e.loading),p=l(),b=l(),m=d(y,null),T=i(p),k=()=>{g((()=>{if(x.value||e.finished||e.disabled||e.error||!1===(null==m?void 0:m.value))return;const{direction:i}=e,n=+e.offset,r=t(T);if(!r.height||o(p))return;let d=!1;const l=t(b);d="up"===i?r.top-l.top<=n:l.bottom-r.bottom<=n,d&&(x.value=!0,a("update:loading",!0),a("load"))}))},w=()=>{if(e.finished){const i=v.finished?v.finished():e.finishedText;if(i)return f("div",{class:j("finished-text")},[i])}},B=()=>{a("update:error",!1),k()},C=()=>{if(e.error){const i=v.error?v.error():e.errorText;if(i)return f("div",{role:"button",class:j("error-text"),tabindex:0,onClick:B},[i])}},L=()=>{if(x.value&&!e.finished&&!e.disabled)return f("div",{class:j("loading")},[v.loading?v.loading():f(h,{class:j("loading-icon")},{default:()=>[e.loadingText||S("loading")]})])};return s((()=>[e.loading,e.finished,e.error]),k),m&&s(m,(e=>{e&&k()})),c((()=>{x.value=e.loading})),u((()=>{e.immediateCheck&&k()})),n({check:k}),r("scroll",k,{target:T,passive:!0}),()=>{var i;const n=null==(i=v.default)?void 0:i.call(v),r=f("div",{ref:b,class:j("placeholder")},null);return f("div",{ref:p,role:"feed",class:j(),"aria-busy":x.value},["down"===e.direction?n:r,L(),w(),C(),"up"===e.direction?n:r])}}});e("L",m(w))}}}));
