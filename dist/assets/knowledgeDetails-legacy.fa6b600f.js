!function(){var e=document.createElement("style");e.innerHTML='@charset "UTF-8";.nav[data-v-b2c3a8dc]{position:fixed;top:0;left:0;width:100%;z-index:10;background-color:#fff}.nav[data-v-b2c3a8dc] .van-search__action{line-height:normal}.list-contaner[data-v-b2c3a8dc]{margin-top:10px}.list-contaner .search-icon[data-v-b2c3a8dc]{font-size:16px;line-height:inherit}.page_bottom[data-v-b2c3a8dc]{position:fixed;bottom:0;left:0;width:100%;height:50px;background:#22ad72;color:#fff;font-size:18px;border-top-left-radius:4px;border-top-right-radius:4px;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.page_bottom span[data-v-b2c3a8dc]{margin-left:10px}[data-v-b2c3a8dc] .van-list{padding-bottom:70px}[data-v-b2c3a8dc] .van-cell__title{color:#1996fc}\n',document.head.appendChild(e),System.register(["./index-legacy.77e40bdf.js","./index-legacy.1dcd6f78.js","./index-legacy.f25f109a.js","./index-legacy.c9537be7.js","./index-legacy.e4e3e25f.js","./index-legacy.65023b5e.js","./index-legacy.d4928f20.js","./index-legacy.2077b455.js","./index-legacy.3f603159.js"],(function(e){"use strict";var t,a,n,i,o,d,l,c,s,r,u,g,f,p,h,m,b,v,x,y,k;return{setters:[function(e){t=e._,a=e.s,n=e.e,i=e.o,o=e.l,d=e.q,l=e.H,c=e.D,s=e.T,r=e.F,u=e.E,g=e.B,f=e.Q,p=e.L,h=e.p,m=e.m},function(e){b=e.s},function(){},function(){},function(){},function(e){v=e.S,x=e.E},function(e){y=e.C},function(e){k=e.L},function(){}],execute:function(){const _={class:"nav"},w=(e=>(h("data-v-b2c3a8dc"),e=e(),m(),e))((()=>d("div",{style:{height:"54px"}},null,-1))),C={class:"list-contaner"};e("default",t(a({__name:"knowledgeDetails",setup(e){let t=f();const{appContext:a}=p(),h=a.config.globalProperties,m=h.$common.DateFormat,j=n({search:"",loading:!1,finished:!1,knowledgeList:[],totalCount:1,currentPage:1}),L=()=>{t.push({path:"/h5/v2/file/search",query:{id:h.$route.query.id||""}})},P=()=>{j.loading=!0;let e={page:j.currentPage,knowledgeId:h.$route.query.id||""};return new Promise(((a,n)=>{h.axios.post(h.$api.listKnowledgeFile,e).then((e=>{const{data:i,code:o,msg:d}=e.data;0==o?(i.currentPage===i.totalPage?j.finished=!0:j.currentPage++,j.knowledgeList=j.knowledgeList.concat(i.data),j.totalCount=i.totalCount,a(!0)):(j.totalCount=0,b(d),t.replace("/v2/login"),n())})).finally((()=>{j.loading=!1}))}))};P();return(e,t)=>{const a=v,n=y,f=k,p=x;return i(),o("div",null,[d("div",_,[l(a,{modelValue:j.search,"onUpdate:modelValue":t[0]||(t[0]=e=>j.search=e),disabled:"",onClick:L,shape:"round",placeholder:"搜索文件"},null,8,["modelValue"])]),w,d("div",C,[0!==j.knowledgeList.length?(i(),c(f,{key:0,loading:j.loading,"onUpdate:loading":t[1]||(t[1]=e=>j.loading=e),finished:j.finished,"finished-text":"没有更多了",onLoad:P},{default:s((()=>[d("div",null,[(i(!0),o(r,null,u(j.knowledgeList,((e,t)=>(i(),c(n,{class:"van-clearfix",key:e._id,title:e.sourceFile.fileName,label:g(m)("YYYY-mm-dd HH:MM:SS",e.createTime),onClick:t=>(e=>{h.$router.push({path:"/v2/knowledge/details",query:{knowledgeId:h.$route.query.id,fileId:e._id,name:e.policyName}})})(e),icon:"description"},null,8,["title","label","onClick"])))),128))])])),_:1},8,["loading","finished"])):(i(),c(p,{key:1,"image-size":"150",description:"知识库暂无文件，请转移至PC端上传。"}))])])}}}),[["__scopeId","data-v-b2c3a8dc"]]))}}}))}();
