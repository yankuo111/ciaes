import{_ as I,s as w,r as l,A as x,o as y,l as F,q as t,G as u,B,L as D,Y as k,p as S,m as $,f as C}from"./index.8c5864de.js";const m=a=>(S("data-v-46c1ba91"),a=a(),$(),a),E={class:"knowledge"},Y={class:"header"},b={class:"time"},q=m(()=>t("div",{class:"tools"},null,-1)),A={class:"content"},H=m(()=>t("div",null,null,-1)),N=w({__name:"details",setup(a){const{appContext:_}=D(),e=_.config.globalProperties,r=l(),d=l(),c=l(!1),p=e.$common.DateFormat;document.title=e.$route.query.name;const f=()=>{let o=document.getElementById("iframeBox");o.height=document.documentElement.clientHeight-100+"px"},v=o=>{C(()=>{const s=document.getElementById("iframeBox");(s.contentDocument||s.contentWindow.document).write(o)})};return(()=>(c.value=!0,new Promise((o,s)=>{e.axios.post(e.$api.getKnowledgeFile,{knowledgeId:e.$route.query.knowledgeId,fileId:e.$route.query.fileId}).then(n=>{const{data:i,code:g,msg:h}=n.data;g==0?(r.value=i.policyName,d.value=i.createTime,v(i.source_html)):e.$message.error(h)}).finally(()=>{c.value=!1})})))(),(o,s)=>{const n=k("loading");return x((y(),F("div",E,[t("div",Y,[t("h3",null,u(r.value),1),t("p",b,"\u4E0A\u4F20\u65F6\u95F4\uFF1A"+u(B(p)("YYYY-mm-dd HH:MM:SS",d.value)),1),q]),t("div",A,[t("iframe",{id:"iframeBox",width:"100%",height:"100%",scrolling:"auto",onLoad:f,frameborder:"0"},null,32)]),H])),[[n,c.value]])}}});var L=I(N,[["__scopeId","data-v-46c1ba91"]]);export{L as default};
