import{s as C,r as w,c as B,H as r,F as R,ac as N,w as K,_ as ee,e as ne,o as b,l as L,q as G,T as p,y as P,x as S,D as V,E as ae,G as te,a1 as oe,Q as le,L as ce,p as se,m as ie}from"./index.8c5864de.js";/* empty css              *//* empty css              */import{u as O,m as re,n as D,e as U,x as de,t as T,I as ue,d as me,c as I,w as $,y as fe,p as he}from"./index.72a4dedb.js";/* empty css               */import{s as F}from"./index.d6bd2086.js";import{l as ge,d as pe,a as q,m as H,e as _e}from"./index.6925981e.js";import{B as be}from"./index.3e2c8ef6.js";import{S as ke,E as ve}from"./index.dac30710.js";import{T as Ce}from"./index.21153b50.js";import{C as xe}from"./index.8ebbac1f.js";import{L as ye}from"./index.8f4b3c75.js";import"./index.5ec7378f.js";const M={name:O,shape:re("round"),disabled:Boolean,iconSize:D,modelValue:O,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var Pe=C({props:U({},M,{bem:de(Function),role:String,parent:Object,checked:Boolean,bindGroup:T}),emits:["click","toggle"],setup(e,{emit:i,slots:u}){const o=w(),n=a=>{if(e.parent&&e.bindGroup)return e.parent.props[a]},l=B(()=>n("disabled")||e.disabled),h=B(()=>n("direction")),t=B(()=>{const a=e.checkedColor||n("checkedColor");if(a&&e.checked&&!l.value)return{borderColor:a,backgroundColor:a}}),m=a=>{const{target:s}=a,d=o.value,c=d===s||(d==null?void 0:d.contains(s));!l.value&&(c||!e.labelDisabled)&&i("toggle"),i("click",a)},g=()=>{const{bem:a,shape:s,checked:d}=e,c=e.iconSize||n("iconSize");return r("div",{ref:o,class:a("icon",[s,{disabled:l.value,checked:d}]),style:{fontSize:me(c)}},[u.icon?u.icon({checked:d,disabled:l.value}):r(ue,{name:"success",style:t.value},null)])},_=()=>{if(u.default)return r("span",{class:e.bem("label",[e.labelPosition,{disabled:l.value}])},[u.default()])};return()=>{const a=e.labelPosition==="left"?[_(),g()]:[g(),_()];return r("div",{role:e.role,class:e.bem([{disabled:l.value,"label-disabled":e.labelDisabled},h.value]),tabindex:l.value?void 0:0,"aria-checked":e.checked,onClick:m},[a])}}});const[Se,A]=I("cell-group"),Ve={title:String,inset:Boolean,border:T};var we=C({name:Se,inheritAttrs:!1,props:Ve,setup(e,{slots:i,attrs:u}){const o=()=>{var l;return r("div",N({class:[A({inset:e.inset}),{[ge]:e.border&&!e.inset}]},u),[(l=i.default)==null?void 0:l.call(i)])},n=()=>r("div",{class:A("title",{inset:e.inset})},[i.title?i.title():e.title]);return()=>e.title||i.title?r(R,null,[n(),o()]):o()}});const Be=$(we),[j,Ge]=I("checkbox-group"),Ee={max:D,disabled:Boolean,iconSize:D,direction:String,modelValue:fe(),checkedColor:String},Q=Symbol(j);var Le=C({name:j,props:Ee,emits:["change","update:modelValue"],setup(e,{emit:i,slots:u}){const{children:o,linkChildren:n}=pe(Q),l=t=>i("update:modelValue",t),h=(t={})=>{typeof t=="boolean"&&(t={checked:t});const{checked:m,skipDisabled:g}=t,a=o.filter(s=>s.props.bindGroup?s.props.disabled&&g?s.checked.value:m!=null?m:!s.checked.value:!1).map(s=>s.name);l(a)};return K(()=>e.modelValue,t=>i("change",t)),q({toggleAll:h}),H(()=>e.modelValue),n({props:e,updateValue:l}),()=>{var t;return r("div",{class:Ge([e.direction])},[(t=u.default)==null?void 0:t.call(u)])}}});const[De,Te]=I("checkbox"),Ie=U({},M,{bindGroup:T});var $e=C({name:De,props:Ie,emits:["change","update:modelValue"],setup(e,{emit:i,slots:u}){const{parent:o}=_e(Q),n=t=>{const{name:m}=e,{max:g,modelValue:_}=o.props,a=_.slice();if(t)!(g&&a.length>=+g)&&!a.includes(m)&&(a.push(m),e.bindGroup&&o.updateValue(a));else{const s=a.indexOf(m);s!==-1&&(a.splice(s,1),e.bindGroup&&o.updateValue(a))}},l=B(()=>o&&e.bindGroup?o.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),h=(t=!l.value)=>{o&&e.bindGroup?n(t):i("update:modelValue",t)};return K(()=>e.modelValue,t=>i("change",t)),q({toggle:h,props:e,checked:l}),H(()=>e.modelValue),()=>r(Pe,N({bem:Te,role:"checkbox",parent:o,checked:l.value,onToggle:h},e),he(u,["default","icon"]))}});const ze=$($e),Oe=$(Le);const Fe=e=>(se("data-v-15d880f3"),e=e(),ie(),e),Ae={class:"nav flex flex_between flex_center"},Re=Fe(()=>G("div",{style:{height:"54px"}},null,-1)),Ne={class:"list-contaner"},Ke={key:0,class:"chat-empty"},Ue={style:{"margin-right":"5px"}},qe=C({__name:"knowledgeSelect",setup(e){let i=le();const{appContext:u}=ce(),o=u.config.globalProperties,n=ne({search:"",knowledgeList:[],finished:!1,loading:!1,currentPage:1}),l=w(""),h=w([]),t=w([]),m=()=>{!n.search||(n.loading=!0,o.axios.post(o.$api.searchKnowledgeTable,{query:n.search,page:n.currentPage}).then(d=>{const{data:c,code:k,msg:v}=d.data;k==0?(c.currentPage===c.totalPage?n.finished=!0:n.currentPage++,n.knowledgeList=c.data||[]):F(v)}).finally(()=>{n.loading=!1}))},g=()=>{n.loading=!0;let d={page:1};return new Promise((c,k)=>{o.axios.post(o.$api.listKnowledgeTable,d).then(v=>{const{data:x,code:y,msg:E}=v.data;y==0?(x.totalPage===1&&(n.finished=!0),n.knowledgeList=x.data,c(!0)):(F(E),i.replace("/v2/login"),k())}).finally(()=>{n.loading=!1})})};g();const _=()=>{n.knowledgeList=[],n.currentPage=1,n.finished=!1,g()},a=d=>{d||_()},s=d=>{};return(d,c)=>{const k=be,v=ke,x=ve,y=Ce,E=ze,X=xe,Y=Be,J=Oe,W=ye;return b(),L("div",null,[G("div",Ae,[r(v,{class:"flex_1",modelValue:n.search,"onUpdate:modelValue":[c[0]||(c[0]=f=>n.search=f),a],onSearch:m,"show-action":"",shape:"round",onClear:_,placeholder:"\u641C\u7D22\u77E5\u8BC6\u5E93",ref_key:"vanSearchComponent",ref:l},{action:p(()=>[r(k,{class:"search-btn",disabled:!n.search,loading:!1,onClick:m,round:"",type:"success",size:"small","loading-text":"\u641C\u7D22"},{default:p(()=>[P("\u641C\u7D22")]),_:1},8,["disabled"])]),_:1},8,["modelValue"]),r(k,{class:"search-btn",disabled:h.value.length===0,loading:!1,onClick:m,round:"",type:"primary",size:"small"},{default:p(()=>[P("\u786E\u5B9A")]),_:1},8,["disabled"])]),Re,G("div",Ne,[n.knowledgeList.length===0?(b(),L("div",Ke,[r(x,{"image-size":"150",description:"\u6CA1\u6709\u627E\u5230\u76F8\u5173\u7684\u77E5\u8BC6\u5E93\u8BB0\u5F55"})])):S("",!0),n.knowledgeList.length!==0?(b(),V(W,{key:1,loading:n.loading,"onUpdate:loading":c[3]||(c[3]=f=>n.loading=f),finished:n.finished,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:m},{default:p(()=>[r(J,{modelValue:h.value,"onUpdate:modelValue":c[2]||(c[2]=f=>h.value=f)},{default:p(()=>[r(Y,null,{default:p(()=>[(b(!0),L(R,null,ae(n.knowledgeList,(f,Z)=>(b(),V(X,{key:f.uniqueId,label:f.desc,clickable:"",onClick:z=>s(f),icon:"label-o"},{title:p(()=>[G("span",Ue,te(f.knowledgeName),1),f.type==="public"?(b(),V(y,{key:0,color:"#ffe1e1","text-color":"#ad0000",round:""},{default:p(()=>[P("\u516C\u5F00")]),_:1})):S("",!0),f.type==="private"?(b(),V(y,{key:1,type:"success",round:""},{default:p(()=>[P("\u79C1\u6709")]),_:1})):S("",!0)]),"right-icon":p(()=>[r(E,{name:f,ref_for:!0,ref:z=>t.value[Z]=z,"checked-color":"#07c160",onClick:c[1]||(c[1]=oe(()=>{},["stop"]))},null,8,["name"])]),_:2},1032,["label","onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["loading","finished"])):S("",!0)])])}}});var on=ee(qe,[["__scopeId","data-v-15d880f3"]]);export{on as default};
