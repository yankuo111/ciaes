!function(){var e=document.createElement("style");e.innerHTML=".nav[data-v-15d880f3]{position:fixed;top:0;left:0;width:100%;z-index:10;background-color:#fff}.nav[data-v-15d880f3] .van-search__action{line-height:normal}.nav .search-btn[data-v-15d880f3]{width:70px}.list-contaner[data-v-15d880f3]{margin-top:10px}\n",document.head.appendChild(e),System.register(["./index-legacy.77e40bdf.js","./index-legacy.f25f109a.js","./index-legacy.fffc75e3.js","./index-legacy.c9537be7.js","./index-legacy.f25f109a2.js","./index-legacy.1dcd6f78.js","./index-legacy.e4e3e25f.js","./index-legacy.4901e97e.js","./index-legacy.65023b5e.js","./index-legacy.cb543faa.js","./index-legacy.d4928f20.js","./index-legacy.2077b455.js","./index-legacy.3f603159.js"],(function(e){"use strict";var l,a,n,t,o,i,d,c,s,r,u,p,g,f,h,b,m,v,k,x,y,V,_,w,C,S,j,P,L,z,G,B,T,D,q,E,I,O,U,A,F,H,K,$,M,N,Q;return{setters:[function(e){l=e.s,a=e.r,n=e.c,t=e.H,o=e.F,i=e.ac,d=e.w,c=e._,s=e.e,r=e.o,u=e.l,p=e.q,g=e.T,f=e.y,h=e.x,b=e.D,m=e.E,v=e.G,k=e.a1,x=e.Q,y=e.L,V=e.p,_=e.m},function(){},function(){},function(e){w=e.u,C=e.m,S=e.n,j=e.e,P=e.x,L=e.t,z=e.I,G=e.d,B=e.c,T=e.w,D=e.y,q=e.p},function(){},function(e){E=e.s},function(e){I=e.l,O=e.d,U=e.a,A=e.m,F=e.e},function(e){H=e.B},function(e){K=e.S,$=e.E},function(e){M=e.T},function(e){N=e.C},function(e){Q=e.L},function(){}],execute:function(){const J={name:w,shape:C("round"),disabled:Boolean,iconSize:S,modelValue:w,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var R=l({props:j({},J,{bem:P(Function),role:String,parent:Object,checked:Boolean,bindGroup:L}),emits:["click","toggle"],setup(e,{emit:l,slots:o}){const i=a(),d=l=>{if(e.parent&&e.bindGroup)return e.parent.props[l]},c=n((()=>d("disabled")||e.disabled)),s=n((()=>d("direction"))),r=n((()=>{const l=e.checkedColor||d("checkedColor");if(l&&e.checked&&!c.value)return{borderColor:l,backgroundColor:l}})),u=a=>{const{target:n}=a,t=i.value,o=t===n||(null==t?void 0:t.contains(n));c.value||!o&&e.labelDisabled||l("toggle"),l("click",a)},p=()=>{const{bem:l,shape:a,checked:n}=e,s=e.iconSize||d("iconSize");return t("div",{ref:i,class:l("icon",[a,{disabled:c.value,checked:n}]),style:{fontSize:G(s)}},[o.icon?o.icon({checked:n,disabled:c.value}):t(z,{name:"success",style:r.value},null)])},g=()=>{if(o.default)return t("span",{class:e.bem("label",[e.labelPosition,{disabled:c.value}])},[o.default()])};return()=>{const l="left"===e.labelPosition?[g(),p()]:[p(),g()];return t("div",{role:e.role,class:e.bem([{disabled:c.value,"label-disabled":e.labelDisabled},s.value]),tabindex:c.value?void 0:0,"aria-checked":e.checked,onClick:u},[l])}}});const[W,X]=B("cell-group"),Y={title:String,inset:Boolean,border:L};var Z=l({name:W,inheritAttrs:!1,props:Y,setup(e,{slots:l,attrs:a}){const n=()=>{var n;return t("div",i({class:[X({inset:e.inset}),{[I]:e.border&&!e.inset}]},a),[null==(n=l.default)?void 0:n.call(l)])};return()=>e.title||l.title?t(o,null,[t("div",{class:X("title",{inset:e.inset})},[l.title?l.title():e.title]),n()]):n()}});const ee=T(Z),[le,ae]=B("checkbox-group"),ne={max:S,disabled:Boolean,iconSize:S,direction:String,modelValue:D(),checkedColor:String},te=Symbol(le);var oe=l({name:le,props:ne,emits:["change","update:modelValue"],setup(e,{emit:l,slots:a}){const{children:n,linkChildren:o}=O(te),i=e=>l("update:modelValue",e);return d((()=>e.modelValue),(e=>l("change",e))),U({toggleAll:(e={})=>{"boolean"==typeof e&&(e={checked:e});const{checked:l,skipDisabled:a}=e,t=n.filter((e=>!!e.props.bindGroup&&(e.props.disabled&&a?e.checked.value:null!=l?l:!e.checked.value))).map((e=>e.name));i(t)}}),A((()=>e.modelValue)),o({props:e,updateValue:i}),()=>{var l;return t("div",{class:ae([e.direction])},[null==(l=a.default)?void 0:l.call(a)])}}});const[ie,de]=B("checkbox"),ce=j({},J,{bindGroup:L});var se=l({name:ie,props:ce,emits:["change","update:modelValue"],setup(e,{emit:l,slots:a}){const{parent:o}=F(te),c=n((()=>o&&e.bindGroup?-1!==o.props.modelValue.indexOf(e.name):!!e.modelValue)),s=(a=!c.value)=>{o&&e.bindGroup?(l=>{const{name:a}=e,{max:n,modelValue:t}=o.props,i=t.slice();if(l)n&&i.length>=+n||i.includes(a)||(i.push(a),e.bindGroup&&o.updateValue(i));else{const l=i.indexOf(a);-1!==l&&(i.splice(l,1),e.bindGroup&&o.updateValue(i))}})(a):l("update:modelValue",a)};return d((()=>e.modelValue),(e=>l("change",e))),U({toggle:s,props:e,checked:c}),A((()=>e.modelValue)),()=>t(R,i({bem:de,role:"checkbox",parent:o,checked:c.value,onToggle:s},e),q(a,["default","icon"]))}});const re=T(se),ue=T(oe);const pe={class:"nav flex flex_between flex_center"},ge=(e=>(V("data-v-15d880f3"),e=e(),_(),e))((()=>p("div",{style:{height:"54px"}},null,-1))),fe={class:"list-contaner"},he={key:0,class:"chat-empty"},be={style:{"margin-right":"5px"}};e("default",c(l({__name:"knowledgeSelect",setup(e){let l=x();const{appContext:n}=y(),i=n.config.globalProperties,d=s({search:"",knowledgeList:[],finished:!1,loading:!1,currentPage:1}),c=a(""),V=a([]),_=a([]),w=()=>{d.search&&(d.loading=!0,i.axios.post(i.$api.searchKnowledgeTable,{query:d.search,page:d.currentPage}).then((e=>{const{data:l,code:a,msg:n}=e.data;0==a?(l.currentPage===l.totalPage?d.finished=!0:d.currentPage++,d.knowledgeList=l.data||[]):E(n)})).finally((()=>{d.loading=!1})))},C=()=>{d.loading=!0;let e={page:1};return new Promise(((a,n)=>{i.axios.post(i.$api.listKnowledgeTable,e).then((e=>{const{data:t,code:o,msg:i}=e.data;0==o?(1===t.totalPage&&(d.finished=!0),d.knowledgeList=t.data,a(!0)):(E(i),l.replace("/v2/login"),n())})).finally((()=>{d.loading=!1}))}))};C();const S=()=>{d.knowledgeList=[],d.currentPage=1,d.finished=!1,C()},j=e=>{e||S()};return(e,l)=>{const a=H,n=K,i=$,s=M,x=re,y=N,C=ee,P=ue,L=Q;return r(),u("div",null,[p("div",pe,[t(n,{class:"flex_1",modelValue:d.search,"onUpdate:modelValue":[l[0]||(l[0]=e=>d.search=e),j],onSearch:w,"show-action":"",shape:"round",onClear:S,placeholder:"搜索知识库",ref_key:"vanSearchComponent",ref:c},{action:g((()=>[t(a,{class:"search-btn",disabled:!d.search,loading:!1,onClick:w,round:"",type:"success",size:"small","loading-text":"搜索"},{default:g((()=>[f("搜索")])),_:1},8,["disabled"])])),_:1},8,["modelValue"]),t(a,{class:"search-btn",disabled:0===V.value.length,loading:!1,onClick:w,round:"",type:"primary",size:"small"},{default:g((()=>[f("确定")])),_:1},8,["disabled"])]),ge,p("div",fe,[0===d.knowledgeList.length?(r(),u("div",he,[t(i,{"image-size":"150",description:"没有找到相关的知识库记录"})])):h("",!0),0!==d.knowledgeList.length?(r(),b(L,{key:1,loading:d.loading,"onUpdate:loading":l[3]||(l[3]=e=>d.loading=e),finished:d.finished,"finished-text":"没有更多了",onLoad:w},{default:g((()=>[t(P,{modelValue:V.value,"onUpdate:modelValue":l[2]||(l[2]=e=>V.value=e)},{default:g((()=>[t(C,null,{default:g((()=>[(r(!0),u(o,null,m(d.knowledgeList,((e,a)=>(r(),b(y,{key:e.uniqueId,label:e.desc,clickable:"",onClick:e=>{},icon:"label-o"},{title:g((()=>[p("span",be,v(e.knowledgeName),1),"public"===e.type?(r(),b(s,{key:0,color:"#ffe1e1","text-color":"#ad0000",round:""},{default:g((()=>[f("公开")])),_:1})):h("",!0),"private"===e.type?(r(),b(s,{key:1,type:"success",round:""},{default:g((()=>[f("私有")])),_:1})):h("",!0)])),"right-icon":g((()=>[t(x,{name:e,ref_for:!0,ref:e=>_.value[a]=e,"checked-color":"#07c160",onClick:l[1]||(l[1]=k((()=>{}),["stop"]))},null,8,["name"])])),_:2},1032,["label","onClick"])))),128))])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["loading","finished"])):h("",!0)])])}}}),[["__scopeId","data-v-15d880f3"]]))}}}))}();
