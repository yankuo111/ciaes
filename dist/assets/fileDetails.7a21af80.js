import{_ as v,s as x,r,o as y,l as I,q as t,H as w,T as F,y as B,G as d,B as D,L as C,v as k,p as H,m as S,f as $}from"./index.8c5864de.js";const m=s=>(H("data-v-ebf6f03e"),s=s(),S(),s),E={class:"knowledge"},N={class:"header"},T={class:"time"},b=m(()=>t("div",{class:"tools"},null,-1)),q={class:"content"},Y=m(()=>t("div",null,null,-1)),V=x({__name:"fileDetails",setup(s){const{appContext:u}=C(),e=u.config.globalProperties,i=r(),l=r(),_=e.$common.DateFormat;document.title=e.$route.query.name;const f=()=>{let o=document.getElementById("iframeBox");o.height=document.documentElement.clientHeight-100+"px"},p=o=>{$(()=>{const a=document.getElementById("iframeBox");(a.contentDocument||a.contentWindow.document).write(o)})};return(()=>new Promise((o,a)=>{e.axios.post(e.$api.getKnowledgeFile,{knowledgeId:e.$route.query.knowledgeId,fileId:e.$route.query.fileId}).then(n=>{const{data:c,code:g,msg:h}=n.data;g==0?(i.value=c.policyName,l.value=c.createTime,p(c.source_html)):e.$message.error(h)}).finally(()=>{})}))(),(o,a)=>{const n=k("H3");return y(),I("div",E,[t("div",N,[w(n,null,{default:F(()=>[B(d(i.value),1)]),_:1}),t("p",T,"\u4E0A\u4F20\u65F6\u95F4\uFF1A"+d(D(_)("YYYY-mm-dd HH:MM:SS",l.value)),1),b]),t("div",q,[t("iframe",{id:"iframeBox",width:"100%",height:"100%",scrolling:"auto",onLoad:f,frameborder:"0"},null,32)]),Y])}}});var L=v(V,[["__scopeId","data-v-ebf6f03e"]]);export{L as default};
