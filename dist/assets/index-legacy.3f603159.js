System.register(["./index-legacy.e4e3e25f.js","./index-legacy.c9537be7.js","./index-legacy.d4928f20.js","./index-legacy.77e40bdf.js"],(function(e){"use strict";var t,a,n,r,l,i,o,s,u,c,d,g,f,p,v,m,h,y,b,x,k,w,S,C,M,V,I,B,A,E,T,$,j,L,P,z,W,q;return{setters:[function(e){t=e.k,a=e.s,n=e.e,r=e.F,l=e.a,i=e.C,o=e.u,s=e.p,u=e.r},function(e){c=e.a,d=e.q,g=e.l,f=e.c,p=e.n,v=e.m,m=e.r,h=e.e,y=e.u,b=e.d,x=e.i,k=e.s,w=e.v,S=e.I,C=e.w},function(e){M=e.c,V=e.C},function(e){I=e.L,B=e.s,A=e.e,E=e.r,T=e.c,$=e.aa,j=e.w,L=e.f,P=e.ad,z=e.H,W=e.ac,q=e.y}],execute:function(){e("u",H);let F=0;function H(){const e=I(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return`${t}-${++F}`}function R(e){return Array.isArray(e)?!e.length:0!==e&&!e}function D(e,t){const{message:a}=t;return d(a)?a(e,t):a||""}function O({target:e}){e.composing=!0}function K({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function G(e){return[...e].length}function J(e,t){return[...e].slice(0,t).join("")}const[N,Q]=f("field"),U=e("f",{id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:p,formatter:Function,clearIcon:v("clear"),modelValue:m(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:v("focus"),formatTrigger:v("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}}),X=h({},M,U,{rows:p,type:v("text"),rules:Array,autosize:[Boolean,Object],labelWidth:p,labelClass:y,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var Y=B({name:N,props:X,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:d,slots:f}){const p=H(),v=A({status:"unvalidated",focused:!1,validateMessage:""}),m=E(),h=E(),y=E(),{parent:C}=n(r),M=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},I=t=>x(e[t])?e[t]:C&&x(C.props[t])?C.props[t]:void 0,B=T((()=>{const t=I("readonly");if(e.clearable&&!t){const t=""!==M(),a="always"===e.clearTrigger||"focus"===e.clearTrigger&&v.focused;return t&&a}return!1})),F=T((()=>y.value&&f.input?y.value():e.modelValue)),N=e=>e.reduce(((e,t)=>e.then((()=>{if("failed"===v.status)return;let{value:e}=F;if(t.formatter&&(e=t.formatter(e,t)),!function(e,t){if(R(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}(e,t))return v.status="failed",void(v.validateMessage=D(e,t));if(t.validator){if(R(e)&&!1===t.validateEmpty)return;return function(e,t){return new Promise((a=>{const n=t.validator(e,t);c(n)?n.then(a):a(n)}))}(e,t).then((a=>{a&&"string"==typeof a?(v.status="failed",v.validateMessage=a):!1===a&&(v.status="failed",v.validateMessage=D(e,t))}))}}))),Promise.resolve()),U=()=>{v.status="unvalidated",v.validateMessage=""},X=()=>d("endValidate",{status:v.status,message:v.validateMessage}),Y=(t=e.rules)=>new Promise((a=>{U(),t?(d("startValidate"),N(t).then((()=>{"failed"===v.status?(a({name:e.name,message:v.validateMessage}),X()):(v.status="passed",a(),X())}))):a()})),Z=t=>{if(C&&e.rules){const{validateTrigger:a}=C.props,n=k(a).includes(t),r=e.rules.filter((e=>e.trigger?k(e.trigger).includes(t):n));r.length&&Y(r)}},_=(t,a="onChange")=>{const n=t;t=(t=>{var a;const{maxlength:n}=e;if(x(n)&&G(t)>+n){const e=M();if(e&&G(e)===+n)return e;const r=null==(a=m.value)?void 0:a.selectionEnd;if(v.focused&&r){const e=[...t],a=e.length-+n;return e.splice(r-a,a),e.join("")}return J(t,+n)}return t})(t);const r=G(n)-G(t);if("number"===e.type||"digit"===e.type){const a="number"===e.type;t=w(t,a,a)}let l=0;if(e.formatter&&a===e.formatTrigger){const{formatter:a,maxlength:r}=e;if(t=a(t),x(r)&&G(t)>+r&&(t=J(t,+r)),m.value&&v.focused){const{selectionEnd:e}=m.value,t=J(n,e);l=G(a(t))-G(t)}}if(m.value&&m.value.value!==t)if(v.focused){let{selectionStart:e,selectionEnd:a}=m.value;if(m.value.value=t,x(e)&&x(a)){const n=G(t);r?(e-=r,a-=r):l&&(e+=l,a+=l),m.value.setSelectionRange(Math.min(e,n),Math.min(a,n))}}else m.value.value=t;t!==e.modelValue&&d("update:modelValue",t)},ee=e=>{e.target.composing||_(e.target.value)},te=()=>{var e;return null==(e=m.value)?void 0:e.blur()},ae=()=>{const n=m.value;"textarea"===e.type&&e.autosize&&n&&function(e,n){const r=t();e.style.height="auto";let l=e.scrollHeight;if(g(n)){const{maxHeight:e,minHeight:t}=n;void 0!==e&&(l=Math.min(l,e)),void 0!==t&&(l=Math.max(l,t))}l&&(e.style.height=`${l}px`,a(r))}(n,e.autosize)},ne=e=>{v.focused=!0,d("focus",e),L(ae),I("readonly")&&te()},re=e=>{v.focused=!1,_(M(),"onBlur"),d("blur",e),I("readonly")||(Z("onBlur"),L(ae),u())},le=e=>d("clickInput",e),ie=e=>d("clickLeftIcon",e),oe=e=>d("clickRightIcon",e),se=T((()=>"boolean"==typeof e.error?e.error:!(!C||!C.props.showError||"failed"!==v.status)||void 0)),ue=T((()=>{const e=I("labelWidth"),t=I("labelAlign");if(e&&"top"!==t)return{width:b(e)}})),ce=t=>{13===t.keyCode&&(C&&C.props.submitOnEnter||"textarea"===e.type||s(t),"search"===e.type&&te()),d("keypress",t)},de=()=>e.id||`${p}-input`,ge=()=>{const t=Q("control",[I("inputAlign"),{error:se.value,custom:!!f.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(f.input)return z("div",{class:t,onClick:le},[f.input()]);const a={id:de(),ref:m,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:I("disabled"),readonly:I("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${p}-label`:void 0,onBlur:re,onFocus:ne,onInput:ee,onClick:le,onChange:K,onKeypress:ce,onCompositionend:K,onCompositionstart:O};return"textarea"===e.type?z("textarea",a,null):z("input",W("number"===(n=e.type)?{type:"text",inputmode:"decimal"}:"digit"===n?{type:"tel",inputmode:"numeric"}:{type:n},a),null);var n},fe=()=>{const t=f["right-icon"];if(e.rightIcon||t)return z("div",{class:Q("right-icon"),onClick:oe},[t?t():z(S,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},pe=()=>{if(e.showWordLimit&&e.maxlength){const t=G(M());return z("div",{class:Q("word-limit")},[z("span",{class:Q("word-num")},[t]),q("/"),e.maxlength])}},ve=()=>{if(C&&!1===C.props.showErrorMessage)return;const t=e.errorMessage||v.validateMessage;if(t){const e=f["error-message"],a=I("errorMessageAlign");return z("div",{class:Q("error-message",a)},[e?e({message:t}):t])}},me=()=>[z("div",{class:Q("body")},[ge(),B.value&&z(S,{ref:h,name:e.clearIcon,class:Q("clear")},null),fe(),f.button&&z("div",{class:Q("button")},[f.button()])]),pe(),ve()];return l({blur:te,focus:()=>{var e;return null==(e=m.value)?void 0:e.focus()},validate:Y,formValue:F,resetValidation:U,getValidationStatus:()=>v.status}),$(i,{customValue:y,resetValidation:U,validateWithTrigger:Z}),j((()=>e.modelValue),(()=>{_(M()),U(),Z("onChange"),L(ae)})),P((()=>{_(M(),e.formatTrigger),L(ae)})),o("touchstart",(e=>{s(e),d("update:modelValue",""),d("clear",e)}),{target:T((()=>{var e;return null==(e=h.value)?void 0:e.$el}))}),()=>{const t=I("disabled"),a=I("labelAlign"),n=(()=>{const t=f["left-icon"];if(e.leftIcon||t)return z("div",{class:Q("left-icon"),onClick:ie},[t?t():z(S,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return z(V,{size:e.size,class:Q({error:se.value,disabled:t,[`label-${a}`]:a}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:ue.value,valueClass:Q("value"),titleClass:[Q("label",[a,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:n&&"top"!==a?()=>n:null,title:()=>{const t=(()=>{const t=I("labelWidth"),a=I("labelAlign"),n=I("colon")?":":"";return f.label?[f.label(),n]:e.label?z("label",{id:`${p}-label`,for:de(),style:"top"===a&&t?{width:b(t)}:void 0},[e.label+n]):void 0})();return"top"===a?[n,t].filter(Boolean):t||[]},value:me,extra:f.extra})}}});e("F",C(Y))}}}));
